<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workbook Atelier Kallos</title>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:wght@400;600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #ffd1e8 0%, #d4e7ff 100%);
            padding: 20px;
            line-height: 1.6;
            transition: background 0.8s ease;
            padding-top: 65px;
        }

        body.night-mode {
            background: linear-gradient(135deg, #2d2d44 0%, #1a1a2e 100%);
        }

        .progress-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.98);
            padding: 10px 20px;
            z-index: 1000;
            box-shadow: 0 2px 15px rgba(0,0,0,0.1);
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.5s ease;
        }

        body.night-mode .progress-header {
            background: rgba(22, 33, 62, 0.98);
        }

        .progress-container {
            flex: 1;
            max-width: 700px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 6px;
            font-size: 0.85em;
        }

        .progress-percentage {
            font-weight: 600;
            color: #d63384;
            font-size: 1.05em;
        }

        body.night-mode .progress-percentage {
            color: #ffd1e8;
        }

        .progress-message {
            color: #666;
            font-size: 0.9em;
        }

        body.night-mode .progress-message {
            color: #b8b8b8;
        }

        .progress-bar-container {
            width: 100%;
            height: 10px;
            background: #e9ecef;
            border-radius: 20px;
            overflow: hidden;
            position: relative;
        }

        body.night-mode .progress-bar-container {
            background: #2d2d44;
        }

        .progress-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #d63384, #ff6b9d);
            border-radius: 20px;
            transition: width 0.8s ease;
            position: relative;
            overflow: hidden;
        }

        .progress-bar-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .reset-button {
            position: fixed;
            top: 10px;
            right: 20px;
            background: #dc3545;
            color: white;
            border: none;
            padding: 8px 10px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2em;
            transition: all 0.3s ease;
            z-index: 1001;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 8px rgba(220, 53, 69, 0.3);
        }

        .reset-button:hover {
            background: #c82333;
            transform: scale(1.15) rotate(10deg);
            box-shadow: 0 4px 12px rgba(220, 53, 69, 0.5);
        }

        @media (max-width: 768px) {
            body {
                padding-top: 75px;
            }

            .progress-header {
                padding: 8px 15px;
            }

            .progress-container {
                width: 100%;
                max-width: 100%;
            }

            .progress-info {
                font-size: 0.75em;
            }

            .progress-percentage {
                font-size: 0.95em;
            }

            .progress-message {
                font-size: 0.8em;
            }

            .reset-button {
                top: 8px;
                right: 15px;
                width: 35px;
                height: 35px;
                font-size: 1em;
            }
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        .page {
            background: white;
            border-radius: 20px;
            padding: 50px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(214, 51, 132, 0.1);
            page-break-after: always;
            transition: all 0.8s ease;
        }

        body.night-mode .page {
            background: #16213e;
            color: #e8e8e8;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }

        h1, h2, h3 {
            font-family: 'Crimson Text', serif;
            color: #d63384;
            transition: color 0.5s ease;
        }

        body.night-mode h1,
        body.night-mode h2,
        body.night-mode h3 {
            color: #ffd1e8;
        }

        h1 {
            font-size: 3em;
            margin-bottom: 15px;
            text-align: center;
        }

        h2 {
            font-size: 2em;
            margin-bottom: 20px;
            border-bottom: 3px solid #ffd1e8;
            padding-bottom: 10px;
        }

        body.night-mode h2 {
            border-bottom-color: #ff6b9d;
        }

        h3 {
            font-size: 1.5em;
            margin: 25px 0 15px 0;
            color: #ff6b9d;
        }

        body.night-mode h3 {
            color: #ffd1e8;
        }

        .subtitle {
            text-align: center;
            font-size: 1.2em;
            color: #666;
            margin-bottom: 30px;
            font-style: italic;
            transition: color 0.5s ease;
        }

        body.night-mode .subtitle {
            color: #b8b8b8;
        }

        .brand {
            text-align: center;
            font-size: 2.5em;
            font-weight: 700;
            color: #d63384;
            margin: 40px 0 10px 0;
            letter-spacing: 3px;
            transition: color 0.5s ease;
        }

        body.night-mode .brand {
            color: #ffd1e8;
        }

        .slogan {
            text-align: center;
            font-size: 1.1em;
            color: #999;
            font-style: italic;
            margin-bottom: 40px;
            transition: color 0.5s ease;
        }

        body.night-mode .slogan {
            color: #b8b8b8;
        }

        .cover-decoration {
            width: 100%;
            height: 350px;
            background: linear-gradient(135deg, #ffd1e8 0%, #ff6b9d 50%, #d4e7ff 100%);
            border-radius: 15px;
            margin: 30px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            transition: all 1s ease;
        }

        body.night-mode .cover-decoration {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
        }

        .bunny-container {
            position: relative;
            z-index: 10;
            font-size: 8em;
            animation: breathe 3s ease-in-out infinite;
            cursor: pointer;
            filter: drop-shadow(0 10px 20px rgba(214, 51, 132, 0.3));
            transition: transform 0.3s ease;
        }

        body.night-mode .bunny-container {
            filter: drop-shadow(0 10px 20px rgba(255, 209, 232, 0.3));
        }

        .bunny-container:hover {
            transform: scale(1.1);
        }

        @keyframes breathe {
            0%, 100% { transform: scale(1) translateY(0); }
            50% { transform: scale(1.05) translateY(-10px); }
        }

        @keyframes hop {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            25% { transform: translateY(-30px) rotate(-5deg); }
            50% { transform: translateY(-50px) rotate(0deg); }
            75% { transform: translateY(-30px) rotate(5deg); }
        }

        @keyframes sleep {
            0%, 100% { transform: rotate(-10deg); }
            50% { transform: rotate(-15deg); }
        }

        .bunny-container.hopping {
            animation: hop 1s ease-in-out;
        }

        .bunny-container.sleeping {
            animation: sleep 2s ease-in-out infinite;
        }

        .particle {
            position: absolute;
            pointer-events: none;
            opacity: 0;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0% {
                transform: translateY(100%) translateX(0) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(-100%) translateX(50px) rotate(360deg);
                opacity: 0;
            }
        }

        .star {
            position: absolute;
            color: white;
            font-size: 1.5em;
            opacity: 0;
            animation: twinkle 3s ease-in-out infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0; transform: scale(0.5); }
            50% { opacity: 1; transform: scale(1); }
        }

        .flower-corner {
            position: absolute;
            font-size: 2em;
            opacity: 0.6;
            animation: grow 4s ease-in-out infinite;
        }

        @keyframes grow {
            0%, 100% { transform: scale(0.8) rotate(0deg); }
            50% { transform: scale(1) rotate(10deg); }
        }

        .flower-tl { top: 10px; left: 10px; }
        .flower-tr { top: 10px; right: 10px; }
        .flower-bl { bottom: 10px; left: 10px; }
        .flower-br { bottom: 10px; right: 10px; }

        .sparkle {
            position: absolute;
            color: #ffd700;
            font-size: 1.5em;
            animation: sparkle 1.5s ease-in-out;
            pointer-events: none;
        }

        @keyframes sparkle {
            0% { opacity: 0; transform: scale(0) rotate(0deg); }
            50% { opacity: 1; transform: scale(1.2) rotate(180deg); }
            100% { opacity: 0; transform: scale(0) rotate(360deg); }
        }

        .motivational-text {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.9);
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 0.9em;
            color: #d63384;
            font-weight: 600;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 20;
            white-space: nowrap;
            pointer-events: none;
        }

        body.night-mode .motivational-text {
            background: rgba(26, 26, 46, 0.9);
            color: #ffd1e8;
        }

        .auto-expand-textarea {
            width: 100%;
            min-height: 35px;
            max-height: 200px;
            padding: 8px;
            border: 1px solid #ffd1e8;
            border-radius: 5px;
            font-family: 'Poppins', sans-serif;
            resize: none;
            overflow-y: auto;
            transition: all 0.5s ease;
        }

        body.night-mode .auto-expand-textarea {
            background: #1a1a2e;
            border-color: #ff6b9d;
            color: #e8e8e8;
        }

        .star-rating {
            display: flex;
            gap: 5px;
            justify-content: center;
            align-items: center;
        }

        .star-rating .star {
            font-size: 1.5em;
            cursor: pointer;
            transition: all 0.2s ease;
            opacity: 0.3;
            position: relative;
            animation: none;
        }

        .star-rating .star:hover,
        .star-rating .star.active {
            opacity: 1;
            transform: scale(1.2);
        }

        .star-rating .star.active {
            animation: none;
        }

        .mode-toggle {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(255, 255, 255, 0.8);
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 1.5em;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 20;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .mode-toggle:hover {
            transform: scale(1.1) rotate(20deg);
            background: rgba(255, 255, 255, 1);
        }

        body.night-mode .mode-toggle {
            background: rgba(26, 26, 46, 0.8);
        }

        .index-list {
            background: #ffd1e8;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            transition: all 0.5s ease;
        }

        body.night-mode .index-list {
            background: #0f3460;
        }

        .index-list ol {
            list-style-position: inside;
            font-size: 1.1em;
            line-height: 2;
        }

        .index-list li {
            color: #333;
            padding: 5px 0;
            transition: color 0.5s ease;
        }

        body.night-mode .index-list li {
            color: #e8e8e8;
        }

        .purpose-box {
            background: linear-gradient(135deg, #d4e7ff 0%, #ffd1e8 100%);
            border-radius: 15px;
            padding: 25px;
            margin-top: 30px;
            border-left: 5px solid #d63384;
            transition: all 0.5s ease;
        }

        body.night-mode .purpose-box {
            background: linear-gradient(135deg, #0f3460 0%, #2d2d44 100%);
            border-left-color: #ff6b9d;
        }

        .purpose-box p {
            font-size: 1.1em;
            color: #333;
            margin: 10px 0;
            transition: color 0.5s ease;
        }

        body.night-mode .purpose-box p {
            color: #e8e8e8;
        }

        .phase-container {
            margin: 30px 0;
            background: #f9f9f9;
            border-radius: 15px;
            padding: 25px;
            border-left: 6px solid #d63384;
            transition: all 0.5s ease;
        }

        body.night-mode .phase-container {
            background: #0f3460;
            border-left-color: #ff6b9d;
        }

        .phase-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }

        .phase-title {
            color: #d63384;
            font-size: 1.4em;
            font-weight: 600;
            transition: color 0.5s ease;
        }

        body.night-mode .phase-title {
            color: #ffd1e8;
        }

        .expand-btn {
            background: #d63384;
            color: white;
            border: none;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            font-size: 1.2em;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .expand-btn:hover {
            transform: scale(1.1);
            background: #ff6b9d;
        }

        .phase-info {
            margin: 10px 0;
            font-size: 1em;
            color: #333;
            transition: color 0.5s ease;
        }

        body.night-mode .phase-info {
            color: #e8e8e8;
        }

        .phase-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
        }

        .phase-content.expanded {
            max-height: 3000px;
        }

        .lesson {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            border-left: 4px solid #ff6b9d;
            transition: all 0.5s ease;
        }

        body.night-mode .lesson {
            background: #1a1a2e;
            border-left-color: #ffd1e8;
        }

        .lesson h4 {
            color: #d63384;
            font-size: 1.2em;
            margin-bottom: 15px;
            font-family: 'Crimson Text', serif;
            transition: color 0.5s ease;
        }

        body.night-mode .lesson h4 {
            color: #ffd1e8;
        }

        .lesson-objective {
            background: #ffd1e820;
            padding: 12px;
            border-radius: 8px;
            margin: 10px 0;
            font-style: italic;
            color: #555;
            transition: all 0.5s ease;
        }

        body.night-mode .lesson-objective {
            background: #ff6b9d20;
            color: #b8b8b8;
        }

        .lesson-steps {
            margin: 15px 0;
        }

        .lesson-steps ol {
            padding-left: 25px;
        }

        .lesson-steps li {
            margin: 10px 0;
            line-height: 1.8;
            color: #333;
            transition: color 0.5s ease;
        }

        body.night-mode .lesson-steps li {
            color: #e8e8e8;
        }

        .common-mistakes {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 12px;
            border-radius: 8px;
            margin: 15px 0;
            transition: all 0.5s ease;
        }

        body.night-mode .common-mistakes {
            background: #4a3f00;
            border-left-color: #ffd700;
        }

        .common-mistakes strong {
            color: #856404;
            transition: color 0.5s ease;
        }

        body.night-mode .common-mistakes strong {
            color: #ffd700;
        }

        .common-mistakes p {
            color: #333;
            transition: color 0.5s ease;
        }

        body.night-mode .common-mistakes p {
            color: #e8e8e8;
        }

        .practice-area {
            background: #e7f3ff;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            transition: all 0.5s ease;
        }

        body.night-mode .practice-area {
            background: #0f3460;
        }

        .practice-area strong {
            color: #0066cc;
            display: block;
            margin-bottom: 8px;
            transition: color 0.5s ease;
        }

        body.night-mode .practice-area strong {
            color: #6db3ff;
        }

        .notes-input {
            width: 100%;
            min-height: 80px;
            padding: 10px;
            border: 2px solid #ffd1e8;
            border-radius: 8px;
            font-family: 'Poppins', sans-serif;
            resize: vertical;
            margin-top: 10px;
            transition: all 0.5s ease;
        }

        body.night-mode .notes-input {
            background: #1a1a2e;
            border-color: #ff6b9d;
            color: #e8e8e8;
        }

        .badge {
            display: inline-block;
            background: linear-gradient(135deg, #ff6b9d, #d63384);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 500;
            margin-top: 10px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            border-radius: 10px;
            overflow: hidden;
        }

        th {
            background: #d63384;
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 500;
            transition: background 0.5s ease;
        }

        body.night-mode th {
            background: #ff6b9d;
        }

        td {
            padding: 12px 15px;
            border-bottom: 1px solid #ffd1e8;
            transition: all 0.5s ease;
        }

        body.night-mode td {
            border-bottom-color: #ff6b9d;
            color: #e8e8e8;
        }

        tr:nth-child(even) {
            background: #ffd1e820;
        }

        body.night-mode tr:nth-child(even) {
            background: #0f346020;
        }

        td input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ffd1e8;
            border-radius: 5px;
            font-family: 'Poppins', sans-serif;
            transition: all 0.5s ease;
        }

        body.night-mode td input {
            background: #1a1a2e;
            border-color: #ff6b9d;
            color: #e8e8e8;
        }

        .roadmap {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 40px 0;
            position: relative;
        }

        .roadmap::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 15%;
            right: 15%;
            height: 3px;
            background: linear-gradient(90deg, #d63384, #ff6b9d, #d4e7ff);
            z-index: 0;
        }

        body.night-mode .roadmap::before {
            background: linear-gradient(90deg, #ff6b9d, #ffd1e8, #6db3ff);
        }

        .roadmap-step {
            background: white;
            border: 3px solid #d63384;
            border-radius: 50%;
            width: 120px;
            height: 120px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 1;
            position: relative;
            font-weight: 600;
            transition: all 0.5s ease;
        }

        body.night-mode .roadmap-step {
            background: #16213e;
            border-color: #ff6b9d;
        }

        .roadmap-step span {
            font-size: 0.8em;
            color: #d63384;
            transition: color 0.5s ease;
        }

        body.night-mode .roadmap-step span {
            color: #ffd1e8;
        }

        .checklist {
            list-style: none;
            padding: 0;
        }

        .checklist li {
            padding: 10px;
            margin: 8px 0;
            background: white;
            border-radius: 10px;
            border: 2px solid #ffd1e8;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.5s ease;
        }

        body.night-mode .checklist li {
            background: #1a1a2e;
            border-color: #ff6b9d;
            color: #e8e8e8;
        }

        .checklist input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .weekly-section {
            background: #f9f9f9;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            transition: all 0.5s ease;
        }

        body.night-mode .weekly-section {
            background: #0f3460;
        }

        .weekly-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .weekly-header input {
            padding: 8px 15px;
            border: 2px solid #ffd1e8;
            border-radius: 10px;
            font-family: 'Poppins', sans-serif;
            width: 45%;
            transition: all 0.5s ease;
        }

        body.night-mode .weekly-header input {
            background: #1a1a2e;
            border-color: #ff6b9d;
            color: #e8e8e8;
        }

        .days-table {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
            margin: 15px 0;
        }

        .day-box {
            background: white;
            border: 2px solid #ffd1e8;
            border-radius: 10px;
            padding: 10px;
            text-align: center;
            transition: all 0.5s ease;
        }

        body.night-mode .day-box {
            background: #1a1a2e;
            border-color: #ff6b9d;
            color: #e8e8e8;
        }

        .day-box input {
            width: 60%;
            padding: 5px;
            border: 1px solid #ffd1e8;
            border-radius: 5px;
            text-align: center;
            margin-top: 5px;
            transition: all 0.5s ease;
        }

        body.night-mode .day-box input {
            background: #16213e;
            border-color: #ff6b9d;
            color: #e8e8e8;
        }

        .progress-bar {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
        }

        .progress-option {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #333;
            transition: color 0.5s ease;
        }

        body.night-mode .progress-option {
            color: #e8e8e8;
        }

        .progress-option input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .reflection-box {
            background: white;
            border: 2px solid #ffd1e8;
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            transition: all 0.5s ease;
        }

        body.night-mode .reflection-box {
            background: #1a1a2e;
            border-color: #ff6b9d;
        }

        .reflection-box strong {
            color: #333;
            transition: color 0.5s ease;
        }

        body.night-mode .reflection-box strong {
            color: #e8e8e8;
        }

        .reflection-box textarea {
            width: 100%;
            min-height: 80px;
            border: none;
            font-family: 'Poppins', sans-serif;
            resize: vertical;
            padding: 10px;
            background: transparent;
            color: inherit;
        }

        .knowledge-section {
            background: #f9f9f9;
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
            transition: all 0.5s ease;
        }

        body.night-mode .knowledge-section {
            background: #0f3460;
        }

        .knowledge-item {
            margin: 15px 0;
        }

        .knowledge-item label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            transition: color 0.5s ease;
        }

        body.night-mode .knowledge-item label {
            color: #e8e8e8;
        }

        .knowledge-item input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ffd1e8;
            border-radius: 10px;
            font-family: 'Poppins', sans-serif;
            transition: all 0.5s ease;
        }

        body.night-mode .knowledge-item input {
            background: #1a1a2e;
            border-color: #ff6b9d;
            color: #e8e8e8;
        }

        .goals-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .goal-box {
            background: #ffd1e820;
            border-radius: 10px;
            padding: 20px;
            border-left: 5px solid #d63384;
            transition: all 0.5s ease;
        }

        body.night-mode .goal-box {
            background: #0f346020;
            border-left-color: #ff6b9d;
        }

        .goal-box label {
            display: block;
            font-weight: 600;
            color: #d63384;
            margin-bottom: 10px;
            transition: color 0.5s ease;
        }

        body.night-mode .goal-box label {
            color: #ffd1e8;
        }

        .goal-box input {
            width: 100%;
            padding: 10px;
            border: 2px solid #ffd1e8;
            border-radius: 8px;
            font-family: 'Poppins', sans-serif;
            transition: all 0.5s ease;
        }

        body.night-mode .goal-box input {
            background: #1a1a2e;
            border-color: #ff6b9d;
            color: #e8e8e8;
        }

        .evaluation-section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border: 3px solid #ffd1e8;
            transition: all 0.5s ease;
        }

        body.night-mode .evaluation-section {
            background: #1a1a2e;
            border-color: #ff6b9d;
        }

        .evaluation-section strong {
            color: #333;
            transition: color 0.5s ease;
        }

        body.night-mode .evaluation-section strong {
            color: #e8e8e8;
        }

        .evaluation-section input,
        .evaluation-section textarea {
            transition: all 0.5s ease;
        }

        body.night-mode .evaluation-section input,
        body.night-mode .evaluation-section textarea {
            background: #16213e;
            border-color: #ff6b9d;
            color: #e8e8e8;
        }

        .satisfaction-scale {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            font-size: 3em;
        }

        .satisfaction-scale span {
            cursor: pointer;
            transition: transform 0.2s;
        }

        .satisfaction-scale span:hover {
            transform: scale(1.2);
        }

        .rewards-table {
            margin: 20px 0;
        }

        .badges-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 20px;
            margin: 30px 0;
        }

        .badge-box {
            background: linear-gradient(135deg, #ffd1e8, #d4e7ff);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: transform 0.3s, background 0.5s ease;
            border: 3px solid transparent;
        }

        body.night-mode .badge-box {
            background: linear-gradient(135deg, #0f3460, #2d2d44);
        }

        .badge-box:hover {
            transform: translateY(-5px);
            border-color: #d63384;
        }

        body.night-mode .badge-box:hover {
            border-color: #ff6b9d;
        }

        .badge-icon {
            font-size: 3em;
            margin-bottom: 10px;
        }

        .badge-name {
            font-weight: 600;
            color: #d63384;
            font-size: 0.9em;
            transition: color 0.5s ease;
        }

        body.night-mode .badge-name {
            color: #ffd1e8;
        }

        .letter-section {
            background: #ffd1e810;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            border: 3px dashed #d63384;
            transition: all 0.5s ease;
        }

        body.night-mode .letter-section {
            background: #0f346010;
            border-color: #ff6b9d;
        }

        .letter-section textarea {
            width: 100%;
            min-height: 150px;
            border: 2px solid #ffd1e8;
            border-radius: 10px;
            padding: 15px;
            font-family: 'Poppins', sans-serif;
            resize: vertical;
            margin: 15px 0;
            transition: all 0.5s ease;
        }

        body.night-mode .letter-section textarea {
            background: #1a1a2e;
            border-color: #ff6b9d;
            color: #e8e8e8;
        }

        .signature-area {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        .signature-area input {
            width: 45%;
            padding: 10px;
            border: none;
            border-bottom: 2px solid #d63384;
            font-family: 'Poppins', sans-serif;
            background: transparent;
            transition: all 0.5s ease;
        }

        body.night-mode .signature-area input {
            border-bottom-color: #ff6b9d;
            color: #e8e8e8;
        }

        .closing-message {
            background: linear-gradient(135deg, #d63384, #ff6b9d);
            color: white;
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            font-size: 1.3em;
            font-style: italic;
            margin: 30px 0;
        }

        .notes-area {
            min-height: 200px;
            border: 2px dashed #ffd1e8;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            transition: all 0.5s ease;
        }

        body.night-mode .notes-area {
            border-color: #ff6b9d;
        }

        .notes-area textarea {
            background: transparent;
            color: inherit;
        }

        @media print {
            body {
                background: white;
                padding: 0;
            }
            .page {
                box-shadow: none;
                margin: 0;
            }
            .mode-toggle {
                display: none;
            }
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .page {
                padding: 25px 15px;
                margin-bottom: 20px;
            }
            
            h1 {
                font-size: 1.8em;
                line-height: 1.2;
            }
            
            h2 {
                font-size: 1.5em;
            }
            
            h3 {
                font-size: 1.2em;
            }
            
            .brand {
                font-size: 1.8em;
                letter-spacing: 2px;
            }
            
            .slogan {
                font-size: 1em;
            }
            
            .cover-decoration {
                height: 280px;
            }
            
            .bunny-container {
                font-size: 6em;
            }
            
            .mode-toggle {
                width: 45px;
                height: 45px;
                font-size: 1.3em;
                top: 10px;
                right: 10px;
            }
            
            .flower-corner {
                font-size: 1.5em;
            }
            
            .motivational-text {
                font-size: 0.8em;
                padding: 8px 15px;
                white-space: normal;
                max-width: 90%;
                text-align: center;
            }
            
            .roadmap {
                flex-direction: column;
                gap: 30px;
                margin: 30px 0;
            }
            
            .roadmap::before {
                display: none;
            }
            
            .roadmap-step {
                width: 100px;
                height: 100px;
            }
            
            .phase-container {
                padding: 20px 15px;
            }
            
            .phase-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .phase-title {
                font-size: 1.2em;
            }
            
            .expand-btn {
                align-self: flex-end;
                margin-top: -35px;
            }
            
            .lesson {
                padding: 15px;
            }
            
            .lesson h4 {
                font-size: 1.1em;
            }
            
            .lesson-steps ol {
                padding-left: 20px;
            }
            
            .lesson-steps li {
                font-size: 0.95em;
            }
            
            table {
                font-size: 0.9em;
                display: block;
                overflow-x: auto;
                white-space: nowrap;
            }
            
            th, td {
                padding: 10px 8px;
            }
            
            .auto-expand-textarea {
                font-size: 0.9em;
            }
            
            .badges-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
            
            .badge-box {
                padding: 15px;
            }
            
            .badge-icon {
                font-size: 2.5em;
            }
            
            .badge-name {
                font-size: 0.85em;
            }
            
            .days-table {
                grid-template-columns: repeat(3, 1fr);
                gap: 8px;
            }
            
            .day-box {
                padding: 8px;
                font-size: 0.9em;
            }
            
            .weekly-header {
                flex-direction: column;
                gap: 10px;
            }
            
            .weekly-header input {
                width: 100%;
            }
            
            .goals-grid {
                gap: 15px;
            }
            
            .goal-box {
                padding: 15px;
            }
            
            .evaluation-section {
                padding: 20px 15px;
            }
            
            .satisfaction-scale {
                font-size: 2.5em;
                gap: 10px;
            }
            
            .letter-section {
                padding: 20px 15px;
            }
            
            .signature-area {
                flex-direction: column;
                gap: 15px;
            }
            
            .signature-area input {
                width: 100%;
            }
            
            .closing-message {
                font-size: 1.1em;
                padding: 20px 15px;
            }
            
            .index-list {
                padding: 20px 15px;
            }
            
            .index-list ol {
                font-size: 1em;
            }
            
            .purpose-box {
                padding: 20px 15px;
            }
            
            .purpose-box p {
                font-size: 1em;
            }
            
            .knowledge-section {
                padding: 15px;
            }
            
            .star-rating {
                gap: 3px;
                flex-wrap: wrap;
            }
            
            .star-rating .star {
                font-size: 1.3em;
            }
            
            .progress-bar {
                flex-wrap: wrap;
                gap: 10px;
            }
            
            .reflection-box {
                padding: 12px;
            }
        }
        
        @media (min-width: 769px) and (max-width: 1024px) {
            .container {
                max-width: 750px;
            }
            
            .page {
                padding: 40px 30px;
            }
            
            h1 {
                font-size: 2.5em;
            }
            
            .cover-decoration {
                height: 320px;
            }
            
            .bunny-container {
                font-size: 7em;
            }
            
            .badges-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .days-table {
                grid-template-columns: repeat(4, 1fr);
            }
        }
        
        @media (min-width: 1025px) {
            .container {
                max-width: 1000px;
            }
            
            .page {
                padding: 60px;
            }
            
            /* Hover effects solo en desktop */
            .phase-header:hover {
                opacity: 0.8;
            }
            
            .expand-btn:hover {
                transform: scale(1.15) rotate(90deg);
            }
            
            .badge-box:hover {
                transform: translateY(-8px);
                box-shadow: 0 15px 30px rgba(214, 51, 132, 0.2);
            }
            
            body.night-mode .badge-box:hover {
                box-shadow: 0 15px 30px rgba(255, 107, 157, 0.3);
            }
        }
        
        /* Mejoras de accesibilidad y usabilidad */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
        
        /* Orientaci√≥n landscape en m√≥vil */
        @media (max-width: 768px) and (orientation: landscape) {
            .cover-decoration {
                height: 220px;
            }
            
            .bunny-container {
                font-size: 5em;
            }
            
            .roadmap {
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .days-table {
                grid-template-columns: repeat(7, 1fr);
            }
        }
        
        /* Tablets en portrait */
        @media (min-width: 600px) and (max-width: 768px) {
            .badges-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .days-table {
                grid-template-columns: repeat(7, 1fr);
            }
            
            h1 {
                font-size: 2.2em;
            }
        }
        
        /* Pantallas muy peque√±as */
        @media (max-width: 380px) {
            h1 {
                font-size: 1.5em;
            }
            
            .brand {
                font-size: 1.5em;
            }
            
            .cover-decoration {
                height: 250px;
            }
            
            .bunny-container {
                font-size: 5em;
            }
            
            .badges-grid {
                grid-template-columns: 1fr;
            }
            
            .badge-icon {
                font-size: 2em;
            }
            
            table {
                font-size: 0.8em;
            }
            
            th, td {
                padding: 8px 5px;
            }
        }
    </style>
</head>
<body>
    <!-- Bot√≥n de reset flotante -->
    <button class="reset-button" onclick="resetAllData()" title="Borrar todo el progreso y empezar de nuevo">
        üóëÔ∏è
    </button>

    <!-- Header con Progreso -->
    <div class="progress-header">
        <div class="progress-container">
            <div class="progress-info">
                <span class="progress-percentage" id="progressPercentage">0% Completado</span>
                <span class="progress-message" id="progressMessage">¬°Excelente inicio! üå±</span>
            </div>
            <div class="progress-bar-container">
                <div class="progress-bar-fill" id="progressBarFill" style="width: 0%"></div>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- P√ÅGINA 1: PORTADA -->
        <div class="page">
            <h1>Gu√≠a de Seguimiento:<br>De Principiante a Intermedio</h1>
            <p class="subtitle">Tu evoluci√≥n, punto a punto.</p>
            <div class="cover-decoration" id="coverDecoration">
                <button class="mode-toggle" id="modeToggle" title="Cambiar modo d√≠a/noche">üåô</button>
                
                <div class="flower-corner flower-tl">üå∏</div>
                <div class="flower-corner flower-tr">üå∫</div>
                <div class="flower-corner flower-bl">üåº</div>
                <div class="flower-corner flower-br">üå∑</div>
                
                <div class="bunny-container" id="bunnyContainer">üê∞</div>
                
                <div class="motivational-text" id="motivationalText"></div>
            </div>
            <div class="brand">ATELIER KALLOS</div>
            <p class="slogan">"Donde la paciencia se transforma en arte"</p>
        </div>

        <!-- P√ÅGINA 2: √çNDICE + PROP√ìSITO -->
        <div class="page">
            <h2>√çndice</h2>
            <div class="index-list">
                <ol>
                    <li>Portada</li>
                    <li>√çndice y Prop√≥sito</li>
                    <li>Ruta de Aprendizaje</li>
                    <li>Registro Semanal</li>
                    <li>Proyectos Completados</li>
                    <li>Inventario</li>
                    <li>Banco de Conocimiento</li>
                    <li>Metas y Evaluaci√≥n</li>
                    <li>Recompensas y Logros</li>
                    <li>Carta al Futuro y Notas</li>
                </ol>
            </div>
            <div class="purpose-box">
                <p>Esta gu√≠a te acompa√±ar√° en cada puntada: desde tu primera pieza hasta dominar t√©cnicas intermedias.</p>
                <p>Cada secci√≥n est√° dise√±ada para inspirarte, organizarte y celebrar tu progreso.</p>
            </div>

            <h3 style="margin-top: 30px;">Glosario de T√©rminos</h3>
            <div class="knowledge-section" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                <div style="padding: 10px;">
                    <strong style="color: #d63384;">pb</strong> = Punto bajo
                </div>
                <div style="padding: 10px;">
                    <strong style="color: #d63384;">pa</strong> = Punto alto
                </div>
                <div style="padding: 10px;">
                    <strong style="color: #d63384;">aum</strong> = Aumento
                </div>
                <div style="padding: 10px;">
                    <strong style="color: #d63384;">dism</strong> = Disminuci√≥n
                </div>
                <div style="padding: 10px;">
                    <strong style="color: #d63384;">ch</strong> = Cadeneta
                </div>
                <div style="padding: 10px;">
                    <strong style="color: #d63384;">pd</strong> = Punto deslizado
                </div>
                <div style="padding: 10px;">
                    <strong style="color: #d63384;">mr</strong> = Anillo m√°gico
                </div>
                <div style="padding: 10px;">
                    <strong style="color: #d63384;">rep</strong> = Repetir
                </div>
            </div>
        </div>

        <!-- P√ÅGINAS 3-4: RUTA DE APRENDIZAJE -->
        <div class="page">
            <h2>Ruta de Aprendizaje</h2>
            
            <div class="roadmap">
                <div class="roadmap-step">
                    <div style="font-size: 2em;">üå±</div>
                    <span>FASE 1</span>
                </div>
                <div class="roadmap-step">
                    <div style="font-size: 2em;">‚ö°</div>
                    <span>FASE 2</span>
                </div>
                <div class="roadmap-step">
                    <div style="font-size: 2em;">üåü</div>
                    <span>FASE 3</span>
                </div>
            </div>

            <!-- FASE 1: FUNDAMENTOS -->
            <div class="phase-container">
                <div class="phase-header" onclick="togglePhase('phase1')">
                    <div class="phase-title">FASE 1: FUNDAMENTOS (Semanas 1‚Äì4)</div>
                    <button class="expand-btn" id="phase1-btn">+</button>
                </div>
                <p class="phase-info"><strong>T√©cnicas:</strong> Anillo m√°gico, cadeneta, punto bajo, aumentos, cambio de color</p>
                <p class="phase-info"><strong>Proyecto final:</strong> Conejito b√°sico üê∞</p>
                <span class="badge">Primera pieza terminada</span>
                
                <div class="phase-content" id="phase1-content">
                    <!-- Lecci√≥n 1 -->
                    <div class="lesson">
                        <h4>Lecci√≥n 1: La Cadeneta - Tu Primera L√≠nea</h4>
                        <div class="lesson-objective">
                            Objetivo: Crear una cadena uniforme de 20 puntos que sea la base para todo tu trabajo futuro.
                        </div>
                        
                        <div class="lesson-steps">
                            <strong>Materiales necesarios:</strong>
                            <ul>
                                <li>Aguja de crochet 4mm o 5mm</li>
                                <li>Lana acr√≠lica mediana (cualquier color claro para ver mejor)</li>
                            </ul>
                            
                            <strong>Paso a paso:</strong>
                            <ol>
                                <li>Haz un nudo corredizo: forma un c√≠rculo con el hilo, pasa el extremo que viene del ovillo por debajo, inserta tu aguja y ajusta dejando unos 15cm de cola.</li>
                                <li>Sost√©n la aguja como si fuera un l√°piz, no como un cuchillo. Tu mano debe estar relajada.</li>
                                <li>Con tu mano izquierda (o derecha si eres zurda), envuelve el hilo entre tu dedo medio y anular. Debe deslizarse suavemente, no estar tirante.</li>
                                <li>Para hacer una cadeneta: pasa el hilo por encima de la aguja (siempre de atr√°s hacia adelante) y atraviesa el lazo que ya tienes en la aguja.</li>
                                <li>Repite este movimiento hasta tener 20 cadenetas. Cuenta cada "V" que ves.</li>
                            </ol>
                        </div>
                        
                        <div class="common-mistakes">
                            <strong>Errores comunes y c√≥mo evitarlos:</strong>
                            <p>‚Ä¢ Si tus cadenetas est√°n muy apretadas y no puedes meter la aguja: Est√°s jalando demasiado el hilo. Relaja tu mano izquierda y deja que el hilo fluya.</p>
                            <p>‚Ä¢ Si tus cadenetas est√°n disparejas: Es completamente normal al inicio. La uniformidad viene con la pr√°ctica de mantener siempre la misma tensi√≥n.</p>
                            <p>‚Ä¢ Si pierdes la cuenta: Usa un marcador de puntos cada 10 cadenetas.</p>
                        </div>
                        
                        <div class="practice-area">
                            <strong>Ejercicio pr√°ctico:</strong>
                            <p>Haz 5 cadenas de 20 puntos cada una. No las deshagas. Gu√°rdalas para ver tu evoluci√≥n en una semana.</p>
                        </div>
                        
                        <textarea class="notes-input" placeholder="Escribe aqu√≠ tus observaciones, dudas o descubrimientos..."></textarea>
                    </div>

                    <!-- Lecci√≥n 2 -->
                    <div class="lesson">
                        <h4>Lecci√≥n 2: El Punto Bajo - La T√©cnica Base</h4>
                        <div class="lesson-objective">
                            Objetivo: Dominar el punto m√°s usado en amigurumi, la base de todo tu trabajo en crochet.
                        </div>
                        
                        <div class="lesson-steps">
                            <strong>Materiales necesarios:</strong>
                            <ul>
                                <li>Aguja 3.5mm o 4mm</li>
                                <li>Lana acr√≠lica mediana</li>
                                <li>Una cadena base de 20 puntos</li>
                            </ul>
                            
                            <strong>¬øQu√© es el punto bajo?</strong>
                            <p>Es el punto m√°s corto y denso del crochet. Crea una tela firme y tupida, perfecta para amigurumis porque no deja ver el relleno. Es la t√©cnica que m√°s usar√°s.</p>
                            
                            <strong>Paso a paso:</strong>
                            <ol>
                                <li>Haz una cadena base de 20 puntos + 1 cadeneta extra (llamada cadeneta de giro, no cuenta como punto).</li>
                                <li>Inserta tu aguja en la segunda cadeneta desde la aguja. Ver√°s que tiene forma de "V".</li>
                                <li>Puedes insertar por diferentes lugares: bajo ambos hilos (m√°s com√∫n), solo el hilo de atr√°s, o solo el de adelante. Para empezar, trabaja bajo ambos hilos.</li>
                                <li>Con la aguja insertada, toma el hilo desde atr√°s y s√°calo hacia adelante. Ahora tienes 2 lazos en tu aguja.</li>
                                <li>Toma el hilo nuevamente y p√°salo por los 2 lazos que tienes en la aguja de una sola vez.</li>
                                <li>¬°Listo! Acabas de hacer un punto bajo. Ahora tienes solo 1 lazo en tu aguja.</li>
                                <li>Repite en cada cadeneta hasta el final. Debes tener 20 puntos bajos.</li>
                            </ol>
                            
                            <strong>Trabajar en vueltas:</strong>
                            <p>Cuando termines la fila, haz 1 cadeneta de giro, voltea tu trabajo y trabaja en direcci√≥n contraria. El punto bajo siempre se inserta en la "V" del punto anterior.</p>
                        </div>
                        
                        <div class="common-mistakes">
                            <strong>Errores comunes y c√≥mo evitarlos:</strong>
                            <p>‚Ä¢ No sabes d√≥nde insertar la aguja: Busca la "V" del punto. Si no la ves, est√°s jalando muy fuerte.</p>
                            <p>‚Ä¢ Tus puntos quedan muy apretados: Afloja un poco la tensi√≥n despu√©s de sacar el primer lazo, antes de pasar por los dos lazos.</p>
                            <p>‚Ä¢ Pierdes puntos en cada vuelta: Est√°s olvidando trabajar en el primer o √∫ltimo punto. Usa marcadores.</p>
                            <p>‚Ä¢ Los puntos est√°n disparejos: Mant√©n el mismo ritmo: insertar-jalar-pasar. Siempre el mismo movimiento.</p>
                            <p>‚Ä¢ El trabajo se tuerce: Aseg√∫rate de estar tomando ambos hilos de la "V", no solo uno.</p>
                        </div>
                        
                        <div class="practice-area">
                            <strong>Ejercicio pr√°ctico:</strong>
                            <p>Haz un cuadrado de 20 puntos bajos de ancho x 15 filas de alto. Cuenta los puntos en cada fila para asegurarte de mantener el mismo n√∫mero. Este ejercicio perfecciona tu tensi√≥n y consistencia.</p>
                        </div>
                        
                        <textarea class="notes-input" placeholder="Anota c√≥mo se siente la tensi√≥n correcta, tus trucos personales..."></textarea>
                    </div>

                    <!-- Lecci√≥n 3 -->
                    <div class="lesson">
                        <h4>Lecci√≥n 3: El Anillo M√°gico - Tu Centro Perfecto</h4>
                        <div class="lesson-objective">
                            Objetivo: Dominar el inicio ajustable que te permitir√° hacer amigurumis sin agujero central.
                        </div>
                        
                        <div class="lesson-steps">
                            <strong>Materiales necesarios:</strong>
                            <ul>
                                <li>Aguja 3.5mm o 4mm</li>
                                <li>Lana acr√≠lica mediana</li>
                            </ul>
                            
                            <strong>Paso a paso:</strong>
                            <ol>
                                <li>Coloca el hilo sobre tu dedo √≠ndice izquierdo formando un lazo. El extremo del hilo debe colgar hacia ti.</li>
                                <li>Inserta tu aguja por debajo del primer hilo y agarra el segundo hilo (el que viene del ovillo).</li>
                                <li>Atraviesa el c√≠rculo jalando ese hilo. Ahora tienes un lazo en tu aguja.</li>
                                <li>Haz una cadeneta para asegurar (no cuenta como punto).</li>
                                <li>Trabaja 6 puntos bajos dentro del c√≠rculo: inserta la aguja dentro del aro, toma el hilo, saca un lazo, toma el hilo nuevamente y pasa por los dos lazos en tu aguja.</li>
                                <li>Cuando termines los 6 puntos, jala la cola del hilo para cerrar el centro completamente.</li>
                                <li>Cierra la ronda con un punto deslizado en el primer punto bajo.</li>
                            </ol>
                        </div>
                        
                        <div class="common-mistakes">
                            <strong>Errores comunes y c√≥mo evitarlos:</strong>
                            <p>‚Ä¢ Si el anillo no se cierra: Est√°s jalando el hilo equivocado. Debe ser la cola, no el hilo que viene del ovillo.</p>
                            <p>‚Ä¢ Si tus puntos se salen del anillo: Est√°s trabajando muy suelto. Aprieta ligeramente despu√©s de cada punto bajo.</p>
                            <p>‚Ä¢ Si no encuentras d√≥nde insertar la aguja: Trabaja sobre el anillo mismo, no sobre puntos previos.</p>
                        </div>
                        
                        <div class="practice-area">
                            <strong>Ejercicio pr√°ctico:</strong>
                            <p>Haz 10 anillos m√°gicos de 6 puntos bajos cada uno. Ci√©rralos y c√≥rtalos. Al d√©cimo, notar√°s cu√°nto m√°s r√°pido y limpio te sale.</p>
                        </div>
                        
                        <textarea class="notes-input" placeholder="Anota tus trucos personales para recordar el movimiento..."></textarea>
                    </div>

                    <!-- Lecci√≥n 4 -->
                    <div class="lesson">
                        <h4>Lecci√≥n 4: Aumentos - C√≥mo Hacer Crecer Tu Trabajo</h4>
                        <div class="lesson-objective">
                            Objetivo: Aprender a agregar puntos de manera controlada para dar forma a tus piezas.
                        </div>
                        
                        <div class="lesson-steps">
                            <strong>¬øQu√© es un aumento?</strong>
                            <p>Es hacer dos puntos bajos en el mismo punto de la vuelta anterior. As√≠ agregas un punto extra y tu trabajo crece.</p>
                            
                            <strong>Paso a paso:</strong>
                            <ol>
                                <li>Identifica el punto donde har√°s el aumento (debe tener forma de "V").</li>
                                <li>Inserta tu aguja en ese punto, toma hilo, saca un lazo, toma hilo y pasa por los dos lazos. Eso es un punto bajo normal.</li>
                                <li>SIN moverte de ese mismo punto, vuelve a insertar tu aguja en la misma "V".</li>
                                <li>Repite el punto bajo completo.</li>
                                <li>Ahora tienes dos puntos donde antes hab√≠a uno.</li>
                            </ol>
                            
                            <strong>Patr√≥n b√°sico de crecimiento (como en amigurumis):</strong>
                            <ul>
                                <li>Vuelta 1: 6 puntos en anillo m√°gico</li>
                                <li>Vuelta 2: Aumentar en cada punto = 12 puntos</li>
                                <li>Vuelta 3: 1pb, aum = 18 puntos (repite)</li>
                                <li>Vuelta 4: 2pb, aum = 24 puntos (repite)</li>
                            </ul>
                        </div>
                        
                        <div class="common-mistakes">
                            <strong>Errores comunes y c√≥mo evitarlos:</strong>
                            <p>‚Ä¢ Si pierdes la cuenta: Usa marcadores de puntos al inicio de cada vuelta. Es crucial.</p>
                            <p>‚Ä¢ Si tu c√≠rculo no queda plano: Puede que est√©s aumentando de m√°s o haciendo puntos muy sueltos. Verifica tu patr√≥n.</p>
                            <p>‚Ä¢ Si no sabes d√≥nde va el siguiente punto: Los aumentos siempre se distribuyen uniformemente en la vuelta.</p>
                        </div>
                        
                        <div class="practice-area">
                            <strong>Ejercicio pr√°ctico:</strong>
                            <p>Haz un c√≠rculo plano siguiendo el patr√≥n hasta tener 30 puntos (5 vueltas). Debe quedar perfectamente plano, sin ondular.</p>
                        </div>
                        
                        <textarea class="notes-input" placeholder="Registra tus observaciones sobre la tensi√≥n y el conteo..."></textarea>
                    </div>

                    <!-- Lecci√≥n 5 -->
                    <div class="lesson">
                        <h4>Lecci√≥n 5: Cambio de Color Limpio</h4>
                        <div class="lesson-objective">
                            Objetivo: Cambiar de un color a otro sin que se note la transici√≥n, perfecto para detalles y dise√±os.
                        </div>
                        
                        <div class="lesson-steps">
                            <strong>Materiales necesarios:</strong>
                            <ul>
                                <li>Dos colores de lana del mismo grosor</li>
                                <li>Aguja apropiada para tu lana</li>
                            </ul>
                            
                            <strong>T√©cnica del √∫ltimo lazo:</strong>
                            <ol>
                                <li>Trabaja hasta el √∫ltimo punto antes del cambio de color.</li>
                                <li>Haz ese punto casi completo: inserta aguja, toma hilo, saca lazo.</li>
                                <li>ANTES de terminar el punto (a√∫n tienes 2 lazos en la aguja), toma el nuevo color.</li>
                                <li>Con el nuevo color, completa el punto pasando por los 2 lazos.</li>
                                <li>Contin√∫a trabajando normalmente con el nuevo color.</li>
                                <li>Deja las colas de 10-15cm para tejer despu√©s con aguja de coser lana.</li>
                            </ol>
                        </div>
                        
                        <div class="common-mistakes">
                            <strong>Errores comunes y c√≥mo evitarlos:</strong>
                            <p>‚Ä¢ Si el cambio se nota mucho: No est√°s cambiando en el momento correcto. Debe ser en el √∫ltimo jal√≥n del punto anterior.</p>
                            <p>‚Ä¢ Si los hilos se enredan: Mant√©n los colores que no usas hacia el lado contrario de tu trabajo.</p>
                            <p>‚Ä¢ Si quedan agujeros: Aprieta el primer punto del nuevo color un poco m√°s de lo normal.</p>
                        </div>
                        
                        <div class="practice-area">
                            <strong>Ejercicio pr√°ctico:</strong>
                            <p>Haz un c√≠rculo de 3 vueltas en un color, cambia al segundo color y haz 3 vueltas m√°s. La l√≠nea de cambio debe ser invisible.</p>
                        </div>
                        
                        <textarea class="notes-input" placeholder="Anota c√≥mo ocultar las colas de hilo de forma invisible..."></textarea>
                    </div>
                </div>
            </div>

            <!-- FASE 2: REFINAMIENTO -->
            <div class="phase-container">
                <div class="phase-header" onclick="togglePhase('phase2')">
                    <div class="phase-title">FASE 2: REFINAMIENTO (Semanas 5‚Äì8)</div>
                    <button class="expand-btn" id="phase2-btn">+</button>
                </div>
                <p class="phase-info"><strong>T√©cnicas:</strong> Tensi√≥n uniforme, costura invisible, bordado de detalles</p>
                <p class="phase-info"><strong>Proyecto final:</strong> Amigurumi mediano üß∏</p>
                <span class="badge">T√©cnica consistente</span>
                
                <div class="phase-content" id="phase2-content">
                    <!-- Lecci√≥n 1 -->
                    <div class="lesson">
                        <h4>Lecci√≥n 1: Tensi√≥n Uniforme - El Secreto del Acabado Profesional</h4>
                        <div class="lesson-objective">
                            Objetivo: Lograr que cada punto tenga exactamente el mismo tama√±o para un trabajo impecable.
                        </div>
                        
                        <div class="lesson-steps">
                            <strong>¬øPor qu√© importa la tensi√≥n?</strong>
                            <p>La tensi√≥n determina si tu amigurumi tendr√° agujeros, si mantendr√° su forma o si quedar√° deforme. Es la diferencia entre un trabajo amateur y uno bien hecho.</p>
                            
                            <strong>C√≥mo lograr tensi√≥n consistente:</strong>
                            <ol>
                                <li>Posici√≥n del hilo: Envuelve el hilo alrededor de tu dedo me√±ique, pasa por encima del anular, por debajo del medio y controla con el √≠ndice.</li>
                                <li>La aguja debe entrar y salir con la misma resistencia en cada punto. Si un punto entra muy f√°cil, est√°s suelta.</li>
                                <li>Despu√©s de cada punto, jala suavemente el hilo de trabajo (no la pieza) hasta sentir resistencia, pero sin apretar.</li>
                                <li>La pieza no debe verse el relleno a trav√©s de los puntos. Si se ve, est√°s muy suelta.</li>
                                <li>Los puntos deben verse parejos y cerrados, pero la tela debe tener algo de flexibilidad.</li>
                            </ol>
                            
                            <strong>Ejercicio de calibraci√≥n:</strong>
                            <ul>
                                <li>Haz 20 puntos bajos en una cadena.</li>
                                <li>Observa: ¬øTodos los puntos son del mismo tama√±o?</li>
                                <li>Si no, identifica d√≥nde cambias la tensi√≥n y corrige conscientemente.</li>
                            </ul>
                        </div>
                        
                        <div class="common-mistakes">
                            <strong>Errores comunes y c√≥mo evitarlos:</strong>
                            <p>‚Ä¢ Empiezas apretado y terminas suelto: Tu mano se cansa. Toma descansos cada 15 minutos.</p>
                            <p>‚Ä¢ Tensi√≥n diferente entre vueltas: Marca d√≥nde termina cada vuelta y revisa tu postura al comenzar la siguiente.</p>
                            <p>‚Ä¢ Algunos puntos m√°s grandes: Probablemente est√°s jalando diferente al tomar el hilo. Mant√©n el mismo movimiento siempre.</p>
                        </div>
                        
                        <div class="practice-area">
                            <strong>Ejercicio pr√°ctico:</strong>
                            <p>Teje un cuadrado de 20x20 puntos. Toma foto. Al d√≠a siguiente, teje otro id√©ntico. Comp√°ralos: ¬øSe ven iguales? Tu tensi√≥n es consistente cuando ambos cuadrados son del mismo tama√±o.</p>
                        </div>
                        
                        <textarea class="notes-input" placeholder="Describe c√≥mo se siente la tensi√≥n correcta en tus manos..."></textarea>
                    </div>

                    <!-- Lecci√≥n 2 -->
                    <div class="lesson">
                        <h4>Lecci√≥n 2: Costura Invisible - Uniones Perfectas</h4>
                        <div class="lesson-objective">
                            Objetivo: Unir piezas sin que se note la costura, como si fueran una sola pieza.
                        </div>
                        
                        <div class="lesson-steps">
                            <strong>Materiales necesarios:</strong>
                            <ul>
                                <li>Aguja lanera con punta roma y ojo grande</li>
                                <li>El mismo hilo que usaste para tejer</li>
                                <li>Dos piezas a unir (practica con c√≠rculos planos primero)</li>
                            </ul>
                            
                            <strong>T√©cnica de costura invisible:</strong>
                            <ol>
                                <li>Coloca las dos piezas una frente a la otra, derecho con derecho.</li>
                                <li>Enhebra tu aguja lanera con aproximadamente 50cm de hilo.</li>
                                <li>Comienza por el interior: pasa la aguja solo por los lazos internos (los que no se ven desde fuera).</li>
                                <li>Inserta la aguja en el lazo interno de un punto de la primera pieza.</li>
                                <li>Luego en el lazo interno del punto correspondiente de la segunda pieza.</li>
                                <li>Alterna entre una pieza y otra, siempre por los lazos internos.</li>
                                <li>Cada 4-5 puntos, jala el hilo firmemente. Ver√°s c√≥mo la costura desaparece.</li>
                                <li>No jales demasiado o fruncir√°; no muy poco o se ver√° la costura.</li>
                            </ol>
                        </div>
                        
                        <div class="common-mistakes">
                            <strong>Errores comunes y c√≥mo evitarlos:</strong>
                            <p>‚Ä¢ Se ve la costura: Est√°s tomando los lazos externos. Solo debes tomar los internos (los que miran hacia adentro).</p>
                            <p>‚Ä¢ La uni√≥n queda torcida: No est√°s tomando puntos correspondientes. Marca con alfileres antes de coser.</p>
                            <p>‚Ä¢ Queda un escal√≥n: La tensi√≥n de costura es diferente a la de tejido. Ajusta jalando m√°s o menos.</p>
                        </div>
                        
                        <div class="practice-area">
                            <strong>Ejercicio pr√°ctico:</strong>
                            <p>Haz dos c√≠rculos planos id√©nticos y √∫nelos por la mitad (como una empanada). La costura debe ser invisible desde el exterior. Si puedes ver d√≥nde cosiste, int√©ntalo de nuevo.</p>
                        </div>
                        
                        <textarea class="notes-input" placeholder="Anota tus trucos para mantener la costura alineada..."></textarea>
                    </div>

                    <!-- Lecci√≥n 3 -->
                    <div class="lesson">
                        <h4>Lecci√≥n 3: Bordado de Detalles - Dar Vida a tus Creaciones</h4>
                        <div class="lesson-objective">
                            Objetivo: Bordar ojos, bocas y detalles que den personalidad a tus amigurumis.
                        </div>
                        
                        <div class="lesson-steps">
                            <strong>Materiales necesarios:</strong>
                            <ul>
                                <li>Hilo de bordar (moulin√©) en el color deseado</li>
                                <li>Aguja de bordar con punta fina</li>
                                <li>Tu pieza terminada</li>
                            </ul>
                            
                            <strong>T√©cnicas b√°sicas:</strong>
                            
                            <p><strong>Ojos bordados:</strong></p>
                            <ol>
                                <li>Cuenta los puntos para que ambos ojos queden sim√©tricos.</li>
                                <li>Marca con alfileres d√≥nde ir√° cada ojo.</li>
                                <li>Comienza desde el interior (donde no se ver√° el nudo).</li>
                                <li>Para ojos cerrados: haz puntadas horizontales peque√±as (3-4 puntadas paralelas).</li>
                                <li>Para ojos abiertos: haz c√≠rculos peque√±os rellen√°ndolos con puntadas desde el centro.</li>
                            </ol>
                            
                            <p><strong>Boca bordada:</strong></p>
                            <ol>
                                <li>Para una sonrisa: marca una curva con alfileres primero.</li>
                                <li>Haz una puntada larga siguiendo la curva.</li>
                                <li>Asegura esa puntada con puntadas peque√±as perpendiculares cada 2-3 puntos.</li>
                                <li>Esto evita que el hilo se hunda en el relleno.</li>
                            </ol>
                        </div>
                        
                        <div class="common-mistakes">
                            <strong>Errores comunes y c√≥mo evitarlos:</strong>
                            <p>‚Ä¢ Los ojos quedan disparejos: SIEMPRE marca con alfileres antes de bordar. Cuenta los puntos.</p>
                            <p>‚Ä¢ El bordado se hunde: Usa hilo de bordar, no lana. El moulin√© mantiene mejor su forma.</p>
                            <p>‚Ä¢ Se ve el nudo: Comienza y termina desde el interior de la pieza o en una zona que quedar√° oculta.</p>
                        </div>
                        
                        <div class="practice-area">
                            <strong>Ejercicio pr√°ctico:</strong>
                            <p>Practica bordar caras en c√≠rculos planos de pr√°ctica. Haz 5 expresiones diferentes: feliz, triste, sorprendido, dormido, gui√±ando un ojo.</p>
                        </div>
                        
                        <textarea class="notes-input" placeholder="Dibuja tus dise√±os de caras favoritos aqu√≠..."></textarea>
                    </div>
                </div>
            </div>

            <!-- FASE 3: TRANSICI√ìN -->
            <div class="phase-container">
                <div class="phase-header" onclick="togglePhase('phase3')">
                    <div class="phase-title">FASE 3: TRANSICI√ìN (Semanas 9‚Äì12)</div>
                    <button class="expand-btn" id="phase3-btn">+</button>
                </div>
                <p class="phase-info"><strong>T√©cnicas:</strong> Punto alto, trabajo en filas, m√∫ltiples colores</p>
                <p class="phase-info"><strong>Proyecto final:</strong> Amigurumi con ropa üëó</p>
                <span class="badge">¬°Nivel Intermedio!</span>
                
                <div class="phase-content" id="phase3-content">
                    <div class="lesson">
                        <h4>Lecci√≥n 1: Punto Alto - Crecimiento R√°pido</h4>
                        <div class="lesson-objective">
                            Objetivo: Aprender el punto que te permitir√° trabajar m√°s r√°pido y crear texturas diferentes.
                        </div>
                        
                        <div class="lesson-steps">
                            <strong>¬øQu√© es el punto alto?</strong>
                            <p>Es un punto que mide el doble de altura que el punto bajo. Te permite avanzar m√°s r√°pido y crear piezas menos densas, ideal para ropa de amigurumis.</p>
                            
                            <strong>Paso a paso:</strong>
                            <ol>
                                <li>Haz una cadeneta base de 20 puntos + 3 cadenetas adicionales (estas cuentan como primer punto alto).</li>
                                <li>Envuelve el hilo alrededor de tu aguja (lazada) ANTES de insertar en el punto. Esto es crucial.</li>
                                <li>Inserta la aguja en el cuarto punto desde la aguja (las 3 cadenetas cuentan como primero).</li>
                                <li>Toma hilo y saca un lazo. Ahora tienes 3 lazos en tu aguja.</li>
                                <li>Toma hilo y pasa por los primeros 2 lazos solamente. Ahora quedan 2 lazos en tu aguja.</li>
                                <li>Toma hilo nuevamente y pasa por los 2 lazos restantes.</li>
                                <li>¬°Completaste un punto alto! Repite en cada cadeneta hasta el final.</li>
                            </ol>
                            
                            <strong>Diferencia clave con punto bajo:</strong>
                            <p>El punto bajo se completa en un solo paso (pasa por 2 lazos). El punto alto se completa en DOS pasos (pasa por 2 lazos, luego por otros 2 lazos).</p>
                            
                            <strong>En vueltas siguientes:</strong>
                            <p>Al inicio de cada vuelta, haz 3 cadenetas (cuentan como primer punto alto). Trabaja punto alto en cada punto de la vuelta anterior.</p>
                        </div>
                        
                        <div class="common-mistakes">
                            <strong>Errores comunes y c√≥mo evitarlos:</strong>
                            <p>‚Ä¢ Olvidas la lazada inicial: El punto queda muy corto y no es realmente un punto alto. SIEMPRE enrolla el hilo en la aguja antes de insertar.</p>
                            <p>‚Ä¢ Pasas por los 3 lazos de una vez: Es incorrecto. Siempre son DOS pasos: primero 2 lazos, luego los 2 restantes.</p>
                            <p>‚Ä¢ No sabes d√≥nde insertar en la primera fila: En cadeneta base, salta las 3 cadenetas de giro. En vueltas siguientes, inserta en cada punto.</p>
                            <p>‚Ä¢ Los puntos quedan torcidos: Aseg√∫rate de que la lazada inicial quede bien envuelta en la aguja antes de insertarla.</p>
                            <p>‚Ä¢ Pierdes altura: Si jalas muy fuerte despu√©s de la lazada inicial, el punto queda m√°s bajo.</p>
                        </div>
                        
                        <div class="practice-area">
                            <strong>Ejercicio pr√°ctico:</strong>
                            <p>Teje 5 filas de 20 puntos altos cada una. Compara con un trabajo de puntos bajos: ¬øNotas c√≥mo avanzas m√°s r√°pido? ¬øC√≥mo cambia la textura?</p>
                        </div>
                        
                        <textarea class="notes-input" placeholder="Compara: ¬øcu√°nto m√°s r√°pido avanzas con punto alto vs punto bajo?"></textarea>
                    </div>

                    <div class="lesson">
                        <h4>Lecci√≥n 2: Trabajo en Filas - Tejer Plano</h4>
                        <div class="lesson-objective">
                            Objetivo: Aprender a tejer de ida y vuelta para crear piezas planas como ropa, mantas o accesorios.
                        </div>
                        
                        <div class="lesson-steps">
                            <strong>Diferencia entre vueltas y filas:</strong>
                            <p>Vueltas: tejes en c√≠rculo (amigurumis). Filas: tejes plano, dando vuelta al trabajo (ropa).</p>
                            
                            <strong>C√≥mo trabajar en filas:</strong>
                            <ol>
                                <li>Haz tu cadeneta base del largo deseado.</li>
                                <li>Trabaja la primera fila completa de izquierda a derecha.</li>
                                <li>Al terminar la fila, haz cadenetas de giro: 1 para punto bajo, 2 para punto medio, 3 para punto alto.</li>
                                <li>Gira tu trabajo f√≠sicamente (como voltear una p√°gina).</li>
                                <li>Trabaja de derecha a izquierda ahora.</li>
                                <li>Al terminar, cadenetas de giro y volteas nuevamente.</li>
                                <li>Las cadenetas de giro NO cuentan como punto (excepto en punto alto donde a veces s√≠).</li>
                            </ol>
                            
                            <strong>Mantener bordes rectos:</strong>
                            <ul>
                                <li>El primer punto despu√©s del giro siempre va en el primer punto de la fila anterior.</li>
                                <li>El √∫ltimo punto va en el √∫ltimo punto (no en la cadeneta de giro de la fila anterior).</li>
                                <li>Cuenta tus puntos al terminar cada fila. Debe ser el mismo n√∫mero siempre.</li>
                            </ul>
                        </div>
                        
                        <div class="common-mistakes">
                            <strong>Errores comunes y c√≥mo evitarlos:</strong>
                            <p>‚Ä¢ Los bordes se curvan: Est√°s aumentando o disminuyendo sin querer. Cuenta puntos.</p>
                            <p>‚Ä¢ Pierdes puntos en cada fila: Probablemente no est√°s trabajando en el √∫ltimo punto. Marca con un marcador.</p>
                            <p>‚Ä¢ Se ve un hoyo despu√©s del giro: Tus cadenetas de giro son muy sueltas. Apri√©talas un poco m√°s.</p>
                        </div>
                        
                        <div class="practice-area">
                            <strong>Ejercicio pr√°ctico:</strong>
                            <p>Teje un rect√°ngulo de 25 puntos de ancho por 20 filas de alto. Debe quedar perfectamente recto sin ondulaciones.</p>
                        </div>
                        
                        <textarea class="notes-input" placeholder="¬øQu√© diferencias notas entre tejer en vueltas vs filas?"></textarea>
                    </div>

                    <div class="lesson">
                        <h4>Lecci√≥n 3: Dise√±os con M√∫ltiples Colores</h4>
                        <div class="lesson-objective">
                            Objetivo: Crear patrones y dise√±os complejos alternando varios colores en la misma pieza.
                        </div>
                        
                        <div class="lesson-steps">
                            <strong>Materiales necesarios:</strong>
                            <ul>
                                <li>Tres o m√°s colores de la misma lana</li>
                                <li>Marcadores de puntos</li>
                                <li>Paciencia (los hilos se enredar√°n al inicio)</li>
                            </ul>
                            
                            <strong>T√©cnica de cambio frecuente:</strong>
                            <ol>
                                <li>Planifica tu dise√±o: dibuja en papel cuadriculado qu√© color va en qu√© punto.</li>
                                <li>Cambia de color usando la t√©cnica del √∫ltimo lazo (vista en Fase 1).</li>
                                <li>Cuando cambies, deja el color anterior colgando del lado equivocado del trabajo.</li>
                                <li>Cuando vuelvas a usar ese color, simplemente ret√≥malo desde donde lo dejaste.</li>
                                <li>Lleva los hilos no usados por detr√°s del trabajo, atrap√°ndolos cada 3-4 puntos para que no cuelguen.</li>
                            </ol>
                            
                            <strong>Manejo de m√∫ltiples hilos:</strong>
                            <ul>
                                <li>No cortes los colores que vas a reusar pronto. Ll√©valos por detr√°s.</li>
                                <li>Si un color no se usa por m√°s de 5 puntos, c√≥rtalo y ret√≥malo despu√©s.</li>
                                <li>Teje sobre las colas de los colores anteriores para ocultarlas mientras trabajas.</li>
                                <li>Mant√©n los ovillos separados en bolsas o contenedores para evitar enredos.</li>
                            </ul>
                        </div>
                        
                        <div class="common-mistakes">
                            <strong>Errores comunes y c√≥mo evitarlos:</strong>
                            <p>‚Ä¢ Los hilos se enredan: Desenr√©dalos cada 2-3 filas antes de que sea un desastre.</p>
                            <p>‚Ä¢ Se ven los hilos por delante: Est√°s llevando el hilo por el lado incorrecto. Siempre por el reverso.</p>
                            <p>‚Ä¢ El trabajo se frunce: Est√°s jalando muy fuerte los hilos que llevas atr√°s. Deben estar flojos.</p>
                        </div>
                        
                        <div class="practice-area">
                            <strong>Ejercicio pr√°ctico:</strong>
                            <p>Teje un cuadrado de 20x20 con un dise√±o de rayas diagonales alternando 3 colores. Luego intenta un patr√≥n de tablero de ajedrez.</p>
                        </div>
                        
                        <textarea class="notes-input" placeholder="Dibuja aqu√≠ los dise√±os de color que quieres intentar..."></textarea>
                    </div>
                </div>
            </div>

            <h3 style="margin-top: 40px;">Tabla de Seguimiento</h3>
            <table>
                <thead>
                    <tr>
                        <th>Semana</th>
                        <th>T√©cnica</th>
                        <th>Notas de pr√°ctica</th>
                        <th style="text-align: center;">‚úÖ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>1</td><td>Cadeneta</td><td><textarea class="auto-expand-textarea" placeholder="Anota tu progreso..."></textarea></td><td style="text-align: center;"><input type="checkbox"></td></tr>
                    <tr><td>2</td><td>Anillo m√°gico</td><td><textarea class="auto-expand-textarea" placeholder="Anota tu progreso..."></textarea></td><td style="text-align: center;"><input type="checkbox"></td></tr>
                    <tr><td>3</td><td>Aumentos</td><td><textarea class="auto-expand-textarea" placeholder="Anota tu progreso..."></textarea></td><td style="text-align: center;"><input type="checkbox"></td></tr>
                    <tr><td>4</td><td>Cambio de color</td><td><textarea class="auto-expand-textarea" placeholder="Anota tu progreso..."></textarea></td><td style="text-align: center;"><input type="checkbox"></td></tr>
                    <tr><td>5</td><td>Tensi√≥n uniforme</td><td><textarea class="auto-expand-textarea" placeholder="Anota tu progreso..."></textarea></td><td style="text-align: center;"><input type="checkbox"></td></tr>
                    <tr><td>6</td><td>Costura invisible</td><td><textarea class="auto-expand-textarea" placeholder="Anota tu progreso..."></textarea></td><td style="text-align: center;"><input type="checkbox"></td></tr>
                    <tr><td>7</td><td>Bordado de detalles</td><td><textarea class="auto-expand-textarea" placeholder="Anota tu progreso..."></textarea></td><td style="text-align: center;"><input type="checkbox"></td></tr>
                    <tr><td>8</td><td>Refinamiento</td><td><textarea class="auto-expand-textarea" placeholder="Anota tu progreso..."></textarea></td><td style="text-align: center;"><input type="checkbox"></td></tr>
                    <tr><td>9</td><td>Punto alto</td><td><textarea class="auto-expand-textarea" placeholder="Anota tu progreso..."></textarea></td><td style="text-align: center;"><input type="checkbox"></td></tr>
                    <tr><td>10</td><td>Trabajo en filas</td><td><textarea class="auto-expand-textarea" placeholder="Anota tu progreso..."></textarea></td><td style="text-align: center;"><input type="checkbox"></td></tr>
                    <tr><td>11</td><td>M√∫ltiples colores</td><td><textarea class="auto-expand-textarea" placeholder="Anota tu progreso..."></textarea></td><td style="text-align: center;"><input type="checkbox"></td></tr>
                    <tr><td>12</td><td>Proyecto completo</td><td><textarea class="auto-expand-textarea" placeholder="Anota tu progreso..."></textarea></td><td style="text-align: center;"><input type="checkbox"></td></tr>
                </tbody>
            </table>
        </div>

        <!-- P√ÅGINAS 5-6: REGISTRO SEMANAL -->
        <div class="page">
            <h2>Registro Semanal</h2>
            
            <div style="background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                <strong style="color: #856404;">üìù Nota importante:</strong>
                <p style="color: #856404; margin: 5px 0 0 0;">Este workbook incluye una plantilla de registro semanal. Para las 12 semanas del programa, te recomendamos duplicar esta p√°gina o usar un cuaderno adicional para registrar cada semana.</p>
            </div>
            
            <div class="weekly-section">
                <div class="weekly-header">
                    <input type="text" placeholder="Semana #">
                    <input type="date" placeholder="Fecha">
                </div>
                
                <h3>A. Proyecto actual</h3>
                <input type="text" style="width: 100%; padding: 12px; border: 2px solid #ffd1e8; border-radius: 10px; margin-bottom: 20px;">
                
                <h3>B. Tiempo dedicado</h3>
                <div class="days-table">
                    <div class="day-box"><strong>Lun</strong><input type="text" placeholder="min"></div>
                    <div class="day-box"><strong>Mar</strong><input type="text" placeholder="min"></div>
                    <div class="day-box"><strong>Mi√©</strong><input type="text" placeholder="min"></div>
                    <div class="day-box"><strong>Jue</strong><input type="text" placeholder="min"></div>
                    <div class="day-box"><strong>Vie</strong><input type="text" placeholder="min"></div>
                    <div class="day-box"><strong>S√°b</strong><input type="text" placeholder="min"></div>
                    <div class="day-box"><strong>Dom</strong><input type="text" placeholder="min"></div>
                </div>
                
                <h3>C. Progreso</h3>
                <div class="progress-bar">
                    <div class="progress-option"><input type="checkbox"><label>25%</label></div>
                    <div class="progress-option"><input type="checkbox"><label>50%</label></div>
                    <div class="progress-option"><input type="checkbox"><label>75%</label></div>
                    <div class="progress-option"><input type="checkbox"><label>100%</label></div>
                </div>
                
                <h3>D. Reflexi√≥n</h3>
                <div class="reflection-box">
                    <strong>¬øQu√© aprend√≠?</strong>
                    <textarea placeholder="Escribe aqu√≠..."></textarea>
                </div>
                <div class="reflection-box">
                    <strong>¬øQu√© mejorar√©?</strong>
                    <textarea placeholder="Escribe aqu√≠..."></textarea>
                </div>
            </div>

            <h2 style="margin-top: 40px;">Proyectos Completados</h2>
            <table class="rewards-table">
                <thead>
                    <tr>
                        <th>N¬∫</th>
                        <th>Proyecto</th>
                        <th>Fecha</th>
                        <th>Tiempo total</th>
                        <th>Nivel</th>
                        <th>Notas</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td><input type="text"></td>
                        <td><input type="date"></td>
                        <td><input type="text"></td>
                        <td><div class="star-rating" data-row="1"></div></td>
                        <td><input type="text"></td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td><input type="text"></td>
                        <td><input type="date"></td>
                        <td><input type="text"></td>
                        <td><div class="star-rating" data-row="2"></div></td>
                        <td><input type="text"></td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td><input type="text"></td>
                        <td><input type="date"></td>
                        <td><input type="text"></td>
                        <td><div class="star-rating" data-row="3"></div></td>
                        <td><input type="text"></td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td><input type="text"></td>
                        <td><input type="date"></td>
                        <td><input type="text"></td>
                        <td><div class="star-rating" data-row="4"></div></td>
                        <td><input type="text"></td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td><input type="text"></td>
                        <td><input type="date"></td>
                        <td><input type="text"></td>
                        <td><div class="star-rating" data-row="5"></div></td>
                        <td><input type="text"></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- P√ÅGINA 7: INVENTARIO + BANCO DE CONOCIMIENTO -->
        <div class="page">
            <h2>Inventario de Materiales</h2>
            <table>
                <thead>
                    <tr>
                        <th>Color</th>
                        <th>Marca</th>
                        <th>Grosor</th>
                        <th>Cantidad</th>
                        <th>Proyecto</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
                    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
                    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
                    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
                    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
                    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
                    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
                    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
                    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
                    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
                    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
                    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
                    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
                    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
                    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
                </tbody>
            </table>

            <h3 style="margin-top: 30px;">Herramientas</h3>
            <ul class="checklist">
                <li><input type="checkbox"> Agujas crochet (especifica tama√±os: <input type="text" style="width: 200px; display: inline;">)</li>
                <li><input type="checkbox"> Marcadores de puntos</li>
                <li><input type="checkbox"> Tijeras</li>
                <li><input type="checkbox"> Relleno sint√©tico</li>
                <li><input type="checkbox"> Ojos de seguridad (tama√±os: <input type="text" style="width: 150px; display: inline;">)</li>
                <li><input type="checkbox"> Hilo de bordar / Moulin√©</li>
                <li><input type="checkbox"> Aguja lanera</li>
                <li><input type="checkbox"> Alfileres</li>
            </ul>

            <h2 style="margin-top: 40px;">Banco de Conocimiento</h2>
            <div class="knowledge-section">
                <div class="knowledge-item">
                    <label>Mi t√©cnica para el anillo m√°gico</label>
                    <input type="text" placeholder="Escribe tu truco aqu√≠...">
                </div>
                <div class="knowledge-item">
                    <label>C√≥mo mantengo la tensi√≥n perfecta</label>
                    <input type="text" placeholder="Escribe tu truco aqu√≠...">
                </div>
                <div class="knowledge-item">
                    <label>Mi truco para costura invisible</label>
                    <input type="text" placeholder="Escribe tu truco aqu√≠...">
                </div>
                <div class="knowledge-item">
                    <label>C√≥mo oculto los cambios de color</label>
                    <input type="text" placeholder="Escribe tu truco aqu√≠...">
                </div>
                <div class="knowledge-item">
                    <label>Mi medida de tensi√≥n est√°ndar</label>
                    <input type="text" placeholder="Ej: 10cm = 22 puntos bajos con aguja 4mm">
                </div>
                <div class="knowledge-item">
                    <label>Conversi√≥n de agujas que uso</label>
                    <input type="text" placeholder="Ej: US E-4 = 3.5mm, US G-6 = 4mm">
                </div>
                <div class="knowledge-item">
                    <label>Mis marcas de lana favoritas</label>
                    <input type="text" placeholder="Escribe aqu√≠...">
                </div>
                <div class="knowledge-item">
                    <label>Mis proveedores favoritos</label>
                    <input type="text" placeholder="Tiendas f√≠sicas u online...">
                </div>
                <div class="knowledge-item">
                    <label>Recursos √∫tiles (canales, libros, p√°ginas)</label>
                    <input type="text" placeholder="Escribe aqu√≠...">
                </div>
            </div>
        </div>

        <!-- P√ÅGINA 8: METAS + EVALUACI√ìN -->
        <div class="page">
            <h2>Metas</h2>
            <div class="goals-grid">
                <div class="goal-box">
                    <label>Corto plazo (1 mes)</label>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <input type="text" placeholder="¬øQu√© quieres lograr este mes?" style="flex: 1;">
                        <input type="checkbox" style="width: 25px; height: 25px; cursor: pointer;" title="Marcar como completado">
                    </div>
                </div>
                <div class="goal-box">
                    <label>Mediano plazo (3 meses)</label>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <input type="text" placeholder="¬øQu√© quieres lograr en 3 meses?" style="flex: 1;">
                        <input type="checkbox" style="width: 25px; height: 25px; cursor: pointer;" title="Marcar como completado">
                    </div>
                </div>
                <div class="goal-box">
                    <label>Largo plazo (6 meses)</label>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <input type="text" placeholder="¬øQu√© quieres lograr en 6 meses?" style="flex: 1;">
                        <input type="checkbox" style="width: 25px; height: 25px; cursor: pointer;" title="Marcar como completado">
                    </div>
                </div>
                <div class="goal-box">
                    <label>Mi gran sue√±o con el crochet</label>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <input type="text" placeholder="Tu sue√±o m√°s grande..." style="flex: 1;">
                        <input type="checkbox" style="width: 25px; height: 25px; cursor: pointer;" title="Marcar como completado">
                    </div>
                </div>
            </div>

            <h2 style="margin-top: 40px;">Evaluaci√≥n Mensual</h2>
            <div class="evaluation-section">
                <div style="margin: 15px 0;">
                    <strong>Proyectos completados:</strong>
                    <input type="text" style="width: 100%; margin-top: 8px; padding: 10px; border: 2px solid #ffd1e8; border-radius: 8px;">
                </div>
                <div style="margin: 15px 0;">
                    <strong>Nuevas t√©cnicas dominadas:</strong>
                    <input type="text" style="width: 100%; margin-top: 8px; padding: 10px; border: 2px solid #ffd1e8; border-radius: 8px;">
                </div>
                <div style="margin: 15px 0;">
                    <strong>Desaf√≠o superado:</strong>
                    <input type="text" style="width: 100%; margin-top: 8px; padding: 10px; border: 2px solid #ffd1e8; border-radius: 8px;">
                </div>
                <div style="margin: 15px 0;">
                    <strong>Lo que m√°s me enorgullece:</strong>
                    <textarea style="width: 100%; min-height: 80px; margin-top: 8px; padding: 10px; border: 2px solid #ffd1e8; border-radius: 8px; font-family: 'Poppins', sans-serif; resize: vertical;"></textarea>
                </div>
                
                <h3 style="text-align: center; margin-top: 25px;">Escala de satisfacci√≥n</h3>
                <div class="satisfaction-scale">
                    <span title="Muy satisfecho">üòä</span>
                    <span title="Neutral">üòê</span>
                    <span title="Necesito mejorar">üòî</span>
                </div>
            </div>
        </div>

        <!-- P√ÅGINA 9: RECOMPENSAS Y LOGROS -->
        <div class="page">
            <h2>Sistema de Recompensas</h2>
            <table class="rewards-table">
                <thead>
                    <tr>
                        <th>Logro</th>
                        <th>Recompensa</th>
                        <th style="text-align: center;">‚úÖ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Primer proyecto</td>
                        <td>Nueva madeja</td>
                        <td style="text-align: center;"><input type="checkbox"></td>
                    </tr>
                    <tr>
                        <td>5 proyectos</td>
                        <td>Set de agujas</td>
                        <td style="text-align: center;"><input type="checkbox"></td>
                    </tr>
                    <tr>
                        <td>Dominar t√©cnica</td>
                        <td>Patr√≥n avanzado</td>
                        <td style="text-align: center;"><input type="checkbox"></td>
                    </tr>
                    <tr>
                        <td>1 mes constante</td>
                        <td>Organizador</td>
                        <td style="text-align: center;"><input type="checkbox"></td>
                    </tr>
                    <tr>
                        <td>Nivel intermedio</td>
                        <td>Kit completo</td>
                        <td style="text-align: center;"><input type="checkbox"></td>
                    </tr>
                </tbody>
            </table>

            <h2 style="margin-top: 40px;">Badges y Logros</h2>
            <div class="badges-grid">
                <div class="badge-box">
                    <div class="badge-icon">üê∞</div>
                    <div class="badge-name">Primera Pieza</div>
                    <div style="margin-top: 10px;"><input type="checkbox"></div>
                </div>
                <div class="badge-box">
                    <div class="badge-icon">‚ö°</div>
                    <div class="badge-name">Velocidad</div>
                    <div style="margin-top: 10px;"><input type="checkbox"></div>
                </div>
                <div class="badge-box">
                    <div class="badge-icon">üé®</div>
                    <div class="badge-name">Artista del Color</div>
                    <div style="margin-top: 10px;"><input type="checkbox"></div>
                </div>
                <div class="badge-box">
                    <div class="badge-icon">üí™</div>
                    <div class="badge-name">Persistencia</div>
                    <div style="margin-top: 10px;"><input type="checkbox"></div>
                </div>
                <div class="badge-box">
                    <div class="badge-icon">üåü</div>
                    <div class="badge-name">Perfeccionista</div>
                    <div style="margin-top: 10px;"><input type="checkbox"></div>
                </div>
            </div>
        </div>

        <!-- P√ÅGINA 10: CARTA AL FUTURO -->
        <div class="page">
            <h2>Carta a Mi Yo del Futuro</h2>
            <p style="text-align: center; color: #666; margin-bottom: 20px; font-style: italic;">
                Para leer dentro de 6 meses...
            </p>
            
            <div class="letter-section">
                <h3>Mis expectativas son...</h3>
                <textarea placeholder="Escribe tus expectativas..."></textarea>
                
                <h3>Tengo miedo de...</h3>
                <textarea placeholder="Expresa tus miedos..."></textarea>
                
                <h3>Pero estoy emocionada por...</h3>
                <textarea placeholder="¬øQu√© te emociona?"></textarea>
                
                <h3>En 6 meses quiero poder decir que...</h3>
                <textarea placeholder="Tu visi√≥n para el futuro..."></textarea>
                
                <div class="signature-area">
                    <input type="text" placeholder="Firma">
                    <input type="date" placeholder="Fecha">
                </div>
            </div>

            <div class="closing-message">
                "Cada punto cuenta una historia.<br>
                Gracias por dejar que la tuya florezca con Atelier Kallos."
            </div>

            <h3 style="margin-top: 30px;">Espacio para notas y bocetos</h3>
            <div class="notes-area">
                <textarea style="width: 100%; min-height: 180px; border: none; font-family: 'Poppins', sans-serif; resize: vertical;" placeholder="Usa este espacio para notas libres, bocetos de ideas o reflexiones..."></textarea>
            </div>

            <h2 style="margin-top: 40px;">Gu√≠a R√°pida: Cuando Algo Sale Mal</h2>
            <div style="background: #f9f9f9; border-radius: 15px; padding: 25px; margin: 20px 0;">
                <div style="margin: 15px 0; padding: 15px; background: white; border-radius: 10px; border-left: 4px solid #d63384;">
                    <strong style="color: #d63384;">üîß Mi pieza se tuerce</strong>
                    <p style="margin: 8px 0 0 0; color: #555;">‚Üí Est√°s aumentando o disminuyendo sin querer. Cuenta tus puntos en cada vuelta y usa marcadores al inicio de cada vuelta.</p>
                </div>
                <div style="margin: 15px 0; padding: 15px; background: white; border-radius: 10px; border-left: 4px solid #d63384;">
                    <strong style="color: #d63384;">üëÄ Se ve el relleno a trav√©s de los puntos</strong>
                    <p style="margin: 8px 0 0 0; color: #555;">‚Üí Tu tensi√≥n es muy suelta. Usa una aguja m√°s peque√±a o ajusta m√°s fuerte cada punto. El tejido debe quedar firme y tupido.</p>
                </div>
                <div style="margin: 15px 0; padding: 15px; background: white; border-radius: 10px; border-left: 4px solid #d63384;">
                    <strong style="color: #d63384;">üß∂ No me alcanza el hilo</strong>
                    <p style="margin: 8px 0 0 0; color: #555;">‚Üí Regla general: necesitas 3 veces el largo de tu cadena base. Para proyectos grandes, calcula 20% extra. Pesa tu primera pieza terminada para estimar futuras.</p>
                </div>
                <div style="margin: 15px 0; padding: 15px; background: white; border-radius: 10px; border-left: 4px solid #d63384;">
                    <strong style="color: #d63384;">üî¢ Perd√≠ la cuenta</strong>
                    <p style="margin: 8px 0 0 0; color: #555;">‚Üí SIEMPRE usa marcadores de puntos. Coloca uno al inicio de cada vuelta. Si ya perdiste la cuenta, deshace hasta donde est√©s segura y vuelve a empezar desde ah√≠.</p>
                </div>
                <div style="margin: 15px 0; padding: 15px; background: white; border-radius: 10px; border-left: 4px solid #d63384;">
                    <strong style="color: #d63384;">üò´ Me duelen las manos</strong>
                    <p style="margin: 8px 0 0 0; color: #555;">‚Üí Est√°s agarrando muy fuerte. Relaja tu agarre, haz pausas cada 20 minutos, estira tus dedos y mu√±ecas. Considera agujas ergon√≥micas.</p>
                </div>
                <div style="margin: 15px 0; padding: 15px; background: white; border-radius: 10px; border-left: 4px solid #d63384;">
                    <strong style="color: #d63384;">üìè Mi pieza es m√°s grande/peque√±a que el patr√≥n</strong>
                    <p style="margin: 8px 0 0 0; color: #555;">‚Üí Tu tensi√≥n es diferente. Si es m√°s grande: usa aguja m√°s peque√±a. Si es m√°s peque√±a: usa aguja m√°s grande. Haz muestras de tensi√≥n antes de proyectos importantes.</p>
                </div>
            </div>

            <div style="text-align: center; margin-top: 40px; padding: 20px; background: linear-gradient(135deg, #ffd1e8 0%, #d4e7ff 100%); border-radius: 15px;">
                <p style="font-size: 1.1em; color: #d63384; font-weight: 600;">
                    ATELIER KALLOS
                </p>
                <p style="font-size: 0.9em; color: #666; margin-top: 8px;">
                    "Donde la paciencia se transforma en arte"
                </p>
            </div>
        </div>
    </div>

    <script>
        // Variables globales
        const coverDecoration = document.getElementById('coverDecoration');
        const bunnyContainer = document.getElementById('bunnyContainer');
        const motivationalText = document.getElementById('motivationalText');
        const modeToggle = document.getElementById('modeToggle');
        
        // Animalitos que rotan
        const animals = ['üê∞', 'üê±', 'üêª', 'ü¶ä', 'üê®', 'üêº'];
        let currentAnimalIndex = 0;
        
        let isNightMode = false;
        let particleInterval;
        let animalInterval;
        let saveTimeout;
        
        // ========== SISTEMA DE AUTO-GUARDADO ==========
        
        // Calcular progreso
        function calculateProgress() {
            let totalFields = 0;
            let filledFields = 0;
            
            // Contar inputs de texto llenados
            document.querySelectorAll('input[type="text"], input[type="date"]').forEach(input => {
                totalFields++;
                if (input.value.trim() !== '') filledFields++;
            });
            
            // Contar textareas llenados
            document.querySelectorAll('textarea').forEach(textarea => {
                totalFields++;
                if (textarea.value.trim() !== '') filledFields++;
            });
            
            // Contar checkboxes marcados (cada uno cuenta)
            document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                totalFields++;
                if (checkbox.checked) filledFields++;
            });
            
            // Contar ratings de estrellas
            document.querySelectorAll('.star-rating').forEach(rating => {
                totalFields++;
                const activeStars = rating.querySelectorAll('.star.active').length;
                if (activeStars > 0) filledFields++;
            });
            
            const percentage = totalFields > 0 ? Math.round((filledFields / totalFields) * 100) : 0;
            return percentage;
        }
        
        // Actualizar UI de progreso
        function updateProgressUI() {
            const percentage = calculateProgress();
            const progressBar = document.getElementById('progressBarFill');
            const progressPercentage = document.getElementById('progressPercentage');
            const progressMessage = document.getElementById('progressMessage');
            
            // Actualizar barra
            progressBar.style.width = percentage + '%';
            progressPercentage.textContent = percentage + '% Completado';
            
            // Mensajes motivacionales seg√∫n progreso
            let message = '';
            let emoji = '';
            
            if (percentage === 0) {
                message = '¬°Empieza tu journey!';
                emoji = 'üå±';
            } else if (percentage <= 25) {
                message = '¬°Excelente inicio!';
                emoji = 'üå±';
            } else if (percentage <= 50) {
                message = '¬°Vas por buen camino!';
                emoji = 'üí™';
            } else if (percentage <= 75) {
                message = '¬°Est√°s domin√°ndolo!';
                emoji = '‚ö°';
            } else if (percentage < 100) {
                message = '¬°Casi lo logras!';
                emoji = 'üåü';
            } else {
                message = '¬°COMPLETADO! ¬°Eres incre√≠ble!';
                emoji = 'üéâ';
            }
            
            progressMessage.textContent = message + ' ' + emoji;
        }
        
        // Guardar datos
        function saveData() {
            const data = {
                // Inputs de texto
                inputs: {},
                // Textareas
                textareas: {},
                // Checkboxes
                checkboxes: {},
                // Ratings de estrellas
                ratings: {},
                // Modo nocturno
                nightMode: isNightMode
            };
            
            // Guardar todos los inputs
            document.querySelectorAll('input[type="text"], input[type="date"]').forEach((input, index) => {
                data.inputs[index] = input.value;
            });
            
            // Guardar todos los textareas
            document.querySelectorAll('textarea').forEach((textarea, index) => {
                data.textareas[index] = textarea.value;
            });
            
            // Guardar todos los checkboxes
            document.querySelectorAll('input[type="checkbox"]').forEach((checkbox, index) => {
                data.checkboxes[index] = checkbox.checked;
            });
            
            // Guardar ratings de estrellas
            document.querySelectorAll('.star-rating').forEach((rating, index) => {
                const activeStars = rating.querySelectorAll('.star.active').length;
                data.ratings[index] = activeStars;
            });
            
            // Guardar en localStorage
            localStorage.setItem('atelierKallosWorkbook', JSON.stringify(data));
            
            // Actualizar progreso
            updateProgressUI();
        }
        
        // Cargar datos
        function loadData() {
            const saved = localStorage.getItem('atelierKallosWorkbook');
            if (!saved) return;
            
            try {
                const data = JSON.parse(saved);
                
                // Restaurar inputs
                document.querySelectorAll('input[type="text"], input[type="date"]').forEach((input, index) => {
                    if (data.inputs[index] !== undefined) {
                        input.value = data.inputs[index];
                    }
                });
                
                // Restaurar textareas
                document.querySelectorAll('textarea').forEach((textarea, index) => {
                    if (data.textareas[index] !== undefined) {
                        textarea.value = data.textareas[index];
                        // Ajustar altura de textareas auto-expandibles
                        if (textarea.classList.contains('auto-expand-textarea')) {
                            textarea.style.height = 'auto';
                            textarea.style.height = textarea.scrollHeight + 'px';
                        }
                    }
                });
                
                // Restaurar checkboxes
                document.querySelectorAll('input[type="checkbox"]').forEach((checkbox, index) => {
                    if (data.checkboxes[index] !== undefined) {
                        checkbox.checked = data.checkboxes[index];
                        // Trigger change event para badges
                        checkbox.dispatchEvent(new Event('change'));
                    }
                });
                
                // Restaurar ratings
                document.querySelectorAll('.star-rating').forEach((rating, index) => {
                    if (data.ratings[index] !== undefined && data.ratings[index] > 0) {
                        const stars = rating.querySelectorAll('.star');
                        setRating(stars, data.ratings[index]);
                    }
                });
                
                console.log('‚úÖ Datos cargados exitosamente');
            } catch (error) {
                console.error('Error al cargar datos:', error);
            }
        }
        
        // Auto-guardar con delay
        function autoSave() {
            clearTimeout(saveTimeout);
            saveTimeout = setTimeout(saveData, 2000); // Guarda 2 segundos despu√©s del √∫ltimo cambio
        }
        
        // Resetear todos los datos
        function resetAllData() {
            if (confirm('‚ö†Ô∏è ¬øEst√°s segura de que quieres borrar TODO tu progreso? Esta acci√≥n no se puede deshacer.')) {
                if (confirm('üö® √öLTIMA CONFIRMACI√ìN: Se borrar√°n todas tus notas, proyectos y progreso. ¬øContinuar?')) {
                    localStorage.removeItem('atelierKallosWorkbook');
                    location.reload();
                }
            }
        }
        
        // Configurar listeners para auto-guardado
        function setupAutoSave() {
            // Guardar en inputs de texto
            document.querySelectorAll('input[type="text"], input[type="date"]').forEach(input => {
                input.addEventListener('input', autoSave);
                input.addEventListener('change', autoSave);
            });
            
            // Guardar en textareas
            document.querySelectorAll('textarea').forEach(textarea => {
                textarea.addEventListener('input', autoSave);
                textarea.addEventListener('change', autoSave);
            });
            
            // Guardar en checkboxes
            document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                checkbox.addEventListener('change', autoSave);
            });
            
            // Guardar en estrellas (se maneja en setupStarRatings)
        }
        
        // ========== FIN SISTEMA DE AUTO-GUARDADO ==========
        
        // Cargar preferencia de modo nocturno
        function loadNightModePreference() {
            const savedMode = localStorage.getItem('nightMode');
            if (savedMode !== null) {
                isNightMode = savedMode === 'true';
                applyNightMode();
            } else {
                // Si no hay preferencia guardada, usar hora autom√°tica solo la primera vez
                checkTimeOfDay();
            }
        }
        
        // Guardar preferencia de modo nocturno
        function saveNightModePreference() {
            localStorage.setItem('nightMode', isNightMode);
        }
        
        // Detectar hora autom√°ticamente (solo primera vez)
        function checkTimeOfDay() {
            const hour = new Date().getHours();
            const shouldBeNight = hour >= 19 || hour < 6;
            isNightMode = shouldBeNight;
            applyNightMode();
            saveNightModePreference();
        }
        
        // Aplicar modo nocturno
        function applyNightMode() {
            if (isNightMode) {
                document.body.classList.add('night-mode');
                modeToggle.textContent = '‚òÄÔ∏è';
                modeToggle.title = 'Cambiar a modo d√≠a';
                createStars();
                bunnyContainer.textContent = 'üò¥';
                bunnyContainer.className = 'bunny-container sleeping';
            } else {
                document.body.classList.remove('night-mode');
                modeToggle.textContent = 'üåô';
                modeToggle.title = 'Cambiar a modo noche';
                removeStars();
                bunnyContainer.textContent = animals[currentAnimalIndex];
                bunnyContainer.className = 'bunny-container';
            }
        }
        
        // Cambiar modo d√≠a/noche GLOBAL con toggle
        function toggleMode() {
            isNightMode = !isNightMode;
            applyNightMode();
            saveNightModePreference();
        }
        
        // Crear estrellas para modo nocturno
        function createStars() {
            removeStars();
            for (let i = 0; i < 20; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.textContent = '‚≠ê';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                star.style.fontSize = (Math.random() * 1 + 0.5) + 'em';
                coverDecoration.appendChild(star);
            }
        }
        
        function removeStars() {
            const stars = coverDecoration.querySelectorAll('.star');
            stars.forEach(star => star.remove());
        }
        
        // Cambiar animalito autom√°ticamente
        function changeAnimal() {
            if (!isNightMode) {
                currentAnimalIndex = (currentAnimalIndex + 1) % animals.length;
                bunnyContainer.textContent = animals[currentAnimalIndex];
                
                // Peque√±a animaci√≥n de hop
                bunnyContainer.classList.add('hopping');
                setTimeout(() => {
                    bunnyContainer.classList.remove('hopping');
                }, 1000);
            }
        }
        
        // Crear part√≠culas flotantes
        function createParticle() {
            const particle = document.createElement('div');
            particle.className = 'particle';
            
            const particles = isNightMode ? 
                ['‚ú®', 'üí´', '‚≠ê'] : 
                ['üå∏', 'üíù', 'üéÄ', '‚ú®', 'üå∫'];
            
            particle.textContent = particles[Math.floor(Math.random() * particles.length)];
            particle.style.left = Math.random() * 100 + '%';
            particle.style.fontSize = (Math.random() * 2 + 1) + 'em';
            particle.style.animationDuration = (Math.random() * 4 + 4) + 's';
            particle.style.animationDelay = Math.random() * 2 + 's';
            
            coverDecoration.appendChild(particle);
            
            setTimeout(() => {
                particle.remove();
            }, 8000);
        }
        
        // Crear destellos
        function createSparkle(x, y) {
            const sparkle = document.createElement('div');
            sparkle.className = 'sparkle';
            sparkle.textContent = '‚ú®';
            sparkle.style.left = x + 'px';
            sparkle.style.top = y + 'px';
            
            coverDecoration.appendChild(sparkle);
            
            setTimeout(() => {
                sparkle.remove();
            }, 1500);
        }
        
        // Click en el animalito - SOLO CAMBIA ANIMAL
        bunnyContainer.addEventListener('click', (e) => {
            const rect = coverDecoration.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            createSparkle(x, y);
            changeAnimal();
        });
        
        // Toggle manual de modo
        modeToggle.addEventListener('click', (e) => {
            e.stopPropagation();
            toggleMode();
        });
        
        // Expandir/colapsar fases
        function togglePhase(phaseId) {
            const content = document.getElementById(phaseId + '-content');
            const btn = document.getElementById(phaseId + '-btn');
            
            if (content.classList.contains('expanded')) {
                content.classList.remove('expanded');
                btn.textContent = '+';
            } else {
                content.classList.add('expanded');
                btn.textContent = '-';
            }
        }
        
        // Auto-expandir textareas
        function setupAutoExpandTextareas() {
            const textareas = document.querySelectorAll('.auto-expand-textarea');
            textareas.forEach(textarea => {
                textarea.addEventListener('input', function() {
                    this.style.height = 'auto';
                    this.style.height = this.scrollHeight + 'px';
                });
            });
        }
        
        // Sistema de estrellas interactivo
        function setupStarRatings() {
            const starRatings = document.querySelectorAll('.star-rating');
            
            starRatings.forEach(container => {
                // Crear 5 estrellas
                for (let i = 1; i <= 5; i++) {
                    const star = document.createElement('span');
                    star.className = 'star';
                    star.textContent = '‚≠ê';
                    star.dataset.value = i;
                    container.appendChild(star);
                }
                
                const stars = container.querySelectorAll('.star');
                let currentRating = 0;
                
                stars.forEach(star => {
                    // Hover preview
                    star.addEventListener('mouseenter', function() {
                        const value = parseInt(this.dataset.value);
                        highlightStars(stars, value);
                    });
                    
                    // Click para fijar
                    star.addEventListener('click', function() {
                        currentRating = parseInt(this.dataset.value);
                        setRating(stars, currentRating);
                        autoSave(); // Guardar al hacer click
                    });
                });
                
                // Reset al salir del container
                container.addEventListener('mouseleave', function() {
                    setRating(stars, currentRating);
                });
            });
        }
        
        function highlightStars(stars, count) {
            stars.forEach((star, index) => {
                if (index < count) {
                    star.style.opacity = '1';
                    star.style.transform = 'scale(1.2)';
                } else {
                    star.style.opacity = '0.3';
                    star.style.transform = 'scale(1)';
                }
            });
        }
        
        function setRating(stars, count) {
            stars.forEach((star, index) => {
                if (index < count) {
                    star.classList.add('active');
                    star.style.opacity = '1';
                } else {
                    star.classList.remove('active');
                    star.style.opacity = '0.3';
                    star.style.transform = 'scale(1)';
                }
            });
        }
        
        // Funcionalidad para el sistema de satisfacci√≥n
        document.querySelectorAll('.satisfaction-scale span').forEach(emoji => {
            emoji.addEventListener('click', function() {
                document.querySelectorAll('.satisfaction-scale span').forEach(e => {
                    e.style.transform = 'scale(1)';
                    e.style.opacity = '0.5';
                });
                this.style.transform = 'scale(1.3)';
                this.style.opacity = '1';
            });
        });

        // Funcionalidad para badges
        document.querySelectorAll('.badge-box').forEach(badge => {
            const checkbox = badge.querySelector('input[type="checkbox"]');
            if (checkbox) {
                checkbox.addEventListener('change', function() {
                    if(this.checked) {
                        badge.style.background = 'linear-gradient(135deg, #d63384, #ff6b9d)';
                        badge.style.color = 'white';
                        const badgeName = badge.querySelector('.badge-name');
                        if (badgeName) badgeName.style.color = 'white';
                    } else {
                        if (document.body.classList.contains('night-mode')) {
                            badge.style.background = 'linear-gradient(135deg, #0f3460, #2d2d44)';
                        } else {
                            badge.style.background = 'linear-gradient(135deg, #ffd1e8, #d4e7ff)';
                        }
                        badge.style.color = '#333';
                        const badgeName = badge.querySelector('.badge-name');
                        if (badgeName) {
                            badgeName.style.color = document.body.classList.contains('night-mode') ? '#ffd1e8' : '#d63384';
                        }
                    }
                });
            }
        });

        // Funcionalidad para progreso (solo uno puede estar activo)
        document.querySelectorAll('.progress-bar input[type="checkbox"]').forEach((checkbox, index, checkboxes) => {
            checkbox.addEventListener('change', function() {
                if(this.checked) {
                    checkboxes.forEach(cb => {
                        if(cb !== this) cb.checked = false;
                    });
                }
            });
        });
        
        // Inicializar todo
        loadNightModePreference();
        loadData(); // Cargar datos guardados
        setupAutoExpandTextareas();
        setupStarRatings();
        setupAutoSave(); // Configurar auto-guardado
        updateProgressUI(); // Mostrar progreso inicial
        
        // Cambiar animalito cada 4 segundos
        animalInterval = setInterval(changeAnimal, 4000);
        
        // Crear part√≠culas peri√≥dicamente
        particleInterval = setInterval(createParticle, 1000);

        // Mensaje de bienvenida en consola
        console.log('%cüå∏ ATELIER KALLOS üå∏', 'font-size: 20px; color: #d63384; font-weight: bold;');
        console.log('%c"Donde la paciencia se transforma en arte"', 'font-size: 14px; color: #ff6b9d; font-style: italic;');
        console.log('%cüíæ Sistema de auto-guardado activado', 'font-size: 12px; color: #28a745;');
        console.log('%cüìä Sistema de progreso activado', 'font-size: 12px; color: #d63384;');
    </script>
</body>
</html>